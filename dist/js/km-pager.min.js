"use strict";!function(u){function t(n){!function(n){if(null==n.config.pageSize||null==n.config.dataTotal||null==n.config.pageShow)throw"pageSize , dataTotal , pageShow 必填"}(n),function(n){var a=n.config.dataTotal/n.config.pageSize;0<n.config.dataTotal%n.config.pageSize&&a++;a<n.config.pageShow&&(n.config.pageShow=a)}(n),function(n){var a=n.get(0),e=u("<ul>"),g=l(n.config.lang.firstPageText),t=l(n.config.lang.prePageText);1===n.config.pageCurr&&(g.attr("class","km-pager-disabled"),t.attr("class","km-pager-disabled"));e.append(g.get(0)),e.append(t.get(0));for(var o=d(n),i=0;i<o.length;i++){var r=l(o[i]);o[i]===n.config.pageCurr&&r.attr("class","km-pager-curr"),e.append(r.get(0))}var c=s(n),f=l(n.config.lang.nextPageText),p=l(n.config.lang.lastPageText);c===n.config.pageCurr&&(f.attr("class","km-pager-disabled"),p.attr("class","km-pager-disabled"));e.append(f.get(0)),e.append(p.get(0)),a.append(e.get(0))}(n),function(e){var n=e.children("ul"),g=e.config.pageShow;g=parseInt(g);var t=s(e),o=d(e);n.children("li").each(function(n){var a=parseInt(n);u(this).on("click",function(){0===a?e.config.onPage(1):1===a?e.config.onPage(o[0]-1):a===g+2?e.config.onPage(e.config.pageCurr+1):a===g+3?e.config.onPage(t):o[a-2]!==e.config.pageCurr&&e.config.onPage(o[a-2])})})}(n)}function l(n){var a=u("<li>");return a.append(u("<a>").attr("href","javascript:void(0);").text(n).get(0)),a}function s(n){var a=n.config.dataTotal,e=n.config.pageSize,g=a%e,t=(a-g)/e;return 0<g&&t++,t}function d(n){var a=s(n),e=n.config.pageShow,g=parseInt(n.config.pageShow/2),t=n.config.pageCurr,o=1;0==e%2?g<t&&(o=t-g+1):g+1<t&&(o=t-g),a<o+e-1&&(o-=o+e-1-a);var i=o+e-1;a<i&&(i=a);for(var r=[],c=o;c<=i;c++)r.push(c);return r}u.fn.kmPager=function(n,a){if("string"==typeof n)return u.fn.kmPager.methods[n](this,a);var e=u.extend({},u.fn.kmPager.defaults,n),g=this;return g.config=e,this.each(function(){t(g)})},u.fn.kmPager.methods={jump:function(n,a){return n.each(function(){!function(n,a){console.log("jump"),n.config.onPage(a)}(n,a)})},options:function(n){return n.config}},u.fn.kmPager.defaults={pageSize:null,dataTotal:null,pageCurr:null,pageShow:10,lang:{firstPageText:"首页",lastPageText:"尾页",prePageText:"上一页",nextPageText:"下一页"},onPage:function(n){}}}(jQuery,window,document);